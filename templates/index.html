<!DOCTYPE html>
<html>
  <head>
    <style>
       #map {
        height: 100vh;
        width: 100vw;
        left: 0;
       }
    </style>
  </head>
  <body>
    <h3>Tweet Map App</h3>
    <select id="query">
      <option value="obama">obama</option>
      <option  value="trump">trump</option>
      <option value="clinton">clinton</option>
    </select>
    <div id="map"></div>
    <script>
    var map;
      function initMap() {
        var columbia = {lat: 40.8075, lng: -73.9626};
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 5,
          center: columbia
        });
        var marker = new google.maps.Marker({
          position: columbia,
          map: map
        });

        document.getElementById("query").onchange = function(){
          keyword = this.value;
          reQuery(keyword);
        }

      }
      function reQuery(param){


        console.log(this.responseText);
        // var search_str = "haiku";
        var oReq = new XMLHttpRequest();
        oReq.addEventListener("load", reqListener);
      // var url = "http://localhost:3000/tweets/getTweets?search="+search_str;
      // console.log(url);
      oReq.open("GET", "/" + param);
      oReq.send();
      }

    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyACGeO9TeMbOLSk1We5O5Yrh5FXnGUQSbs&callback=initMap">
    </script>
  </body>
</html>
